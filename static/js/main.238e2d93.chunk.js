(this.webpackJsonpplack=this.webpackJsonpplack||[]).push([[0],{130:function(e,a,t){},274:function(e,a,t){e.exports=t(451)},450:function(e,a,t){},451:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(50),s=t.n(l),c=t(71),o=t(36),i=t(18),u={user:null,isLoading:!0},d={channel:null,isPrivate:!1},m=Object(c.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_USER":return Object(i.a)({},e,{user:a.user,isLoading:!1});default:return e}},channel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_CHANNEL":return Object(i.a)({},e,{channel:a.channel,isPrivate:a.isPrivate});default:return e}}}),h=t(233),f=t(70),p=t(32),g=t(33),E=t(34),v=t(35),b=t(37),C=t(62),y=t(161),j=t.n(y);t(283),t(285),t(452);j.a.initializeApp({apiKey:"AIzaSyBa643TjTtPD0rnjdOfuFLpYyzDdsqr0Iw",authDomain:"plack-23141.firebaseapp.com",databaseURL:"https://plack-23141.firebaseio.com",projectId:"plack-23141",storageBucket:"plack-23141.appspot.com",messagingSenderId:"360318459062",appId:"1:360318459062:web:a7d366336084667dacda17",measurementId:"G-E16F9YZVBR"});var O=j.a,k=t(20),S=t(59),R=t(234),w=t.n(R),P=t(473),M=t(462),A=t(480),N=t(72),L=t(469),T=t(479),U=t(453),D=(t(130),function(){var e=Object(n.useState)({username:"",email:"",password:"",passwordConfirm:"",errors:"",loading:!1,usersRef:O.database().ref("users")}),a=Object(S.a)(e,2),t=a[0],l=a[1],s=function(e){l(Object(i.a)({},t,Object(k.a)({},e.target.name,e.target.value)))},c=function(e){var a=e.username,t=e.password,n=e.email;return a.length&&t.length&&n.length>0},o=function(e){var a=e.password;return a===e.passwordConfirm&&a.length>=6},u=function(e){return t.usersRef.child(e.user.uid).set({name:e.user.displayName,avatar:e.user.photoURL})},d=r.a.createElement(P.a,{color:"red"},t.errors);return r.a.createElement(M.a,{className:"u-heigth100vh",textAlign:"center",verticalAlign:"middle"},r.a.createElement(M.a.Column,{style:{maxWidth:450}},r.a.createElement(A.a,{as:"h2",color:"red",textAlign:"center"},r.a.createElement(N.a,{name:"code",color:"black"}),"Register for Plack"),r.a.createElement(L.a,{size:"large"},r.a.createElement(T.a,{stacked:!0},r.a.createElement(L.a.Input,{fluid:!0,name:"username",icon:"user",iconPosition:"left",placeholder:"Username",onChange:s,type:"text"}),r.a.createElement(L.a.Input,{fluid:!0,name:"email",icon:"mail",iconPosition:"left",placeholder:"Email-adress",onChange:s,type:"email"}),r.a.createElement(L.a.Input,{fluid:!0,name:"password",icon:"lock",iconPosition:"left",placeholder:"Password",onChange:s,type:"password"}),r.a.createElement(L.a.Input,{fluid:!0,name:"passwordConfirm",icon:"repeat",iconPosition:"left",placeholder:"Repeat password",onChange:s,type:"password"}),r.a.createElement(U.a,{disabled:t.loading,className:t.loading?"loading":null,onClick:function(e){(c(t)?o(t)||(l(Object(i.a)({},t,{errors:"Passwords do not match or password to short"})),0):(l(Object(i.a)({},t,{errors:"Fill all fields"})),0))&&(e.preventDefault(),l(Object(i.a)({},t,{loading:!0,errors:""})),O.auth().createUserWithEmailAndPassword(t.email,t.password).then((function(e){e.user.updateProfile({displayName:t.username,photoURL:"https://www.gravatar.com/avatar/".concat(w()(e.user.email),"?d=identicon")}).then((function(){u(e)})).catch((function(e){console.log(e),l(Object(i.a)({},t,{loading:!1,errors:e.message}))}))})).catch((function(e){l(Object(i.a)({},t,{loading:!1,errors:e.message})),console.log(e)})))},color:"red",fluid:!0,size:"large"},"Submit"))),t.errors.length>0?d:null,r.a.createElement(P.a,null,"Already a user? ",r.a.createElement(f.b,{to:"/login"},"Login"))))}),I=function(){var e=Object(n.useState)({email:null,password:null,errors:"",loading:!1}),a=Object(S.a)(e,2),t=a[0],l=a[1],s=function(e){l(Object(i.a)({},t,Object(k.a)({},e.target.name,e.target.value)))},c=function(e){var a=e.email,t=e.password;return!(!a||!t)||l((function(e){return Object(i.a)({},e,{errors:"Fill all fields"})}))},o=r.a.createElement(P.a,{color:"red"},t.errors);return r.a.createElement(M.a,{className:"u-heigth100vh",textAlign:"center",verticalAlign:"middle"},r.a.createElement(M.a.Column,{style:{maxWidth:450}},r.a.createElement(A.a,{as:"h2",color:"red",textAlign:"center"},r.a.createElement(N.a,{name:"code",color:"black"}),"Login to Plack"),r.a.createElement(L.a,{size:"large"},r.a.createElement(T.a,{stacked:!0},r.a.createElement(L.a.Input,{fluid:!0,name:"email",icon:"mail",iconPosition:"left",placeholder:"Email-adress",onChange:s,type:"email"}),r.a.createElement(L.a.Input,{fluid:!0,name:"password",icon:"lock",iconPosition:"left",placeholder:"Password",onChange:s,type:"password"}),r.a.createElement(U.a,{disabled:t.loading,className:t.loading?"loading":null,onClick:function(e){c(t)&&(e.preventDefault(),l((function(e){return Object(i.a)({},e,{loading:!0,errors:""})})),O.auth().signInWithEmailAndPassword(t.email,t.password).then((function(e){l((function(e){return Object(i.a)({},e,{loading:!1})}))})).catch((function(e){console.log(e),l((function(a){return Object(i.a)({},a,{loading:!1,errors:e.message})}))})))},color:"red",fluid:!0,size:"large"},"Login"))),t.errors.length>0?o:null,r.a.createElement(P.a,null,"Not a user? ",r.a.createElement(f.b,{to:"/register"},"Register"))))},F=t(237),x=t(477),_=t(474),z=t(466),B=function(){return r.a.createElement(x.a,{as:_.a,icon:"labeled",inverted:!0,vertical:!0,visible:!0,width:"very thin"},r.a.createElement(z.a,null),r.a.createElement(U.a,{icon:"add",size:"small",color:"blue"}))},W=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"remove",t=O.database().ref("presence/"+e);"add"===a?t.set(!0):t.remove()},G=t(238),V=t(163),H=t(472),J=t(262),q=function(e){var a=e.userData,t=Object(o.c)(),n=[{key:"user",text:r.a.createElement("span",null,"Signed in as ",r.a.createElement("strong",null,a.displayName)),disabled:!0},{key:"avatar",text:r.a.createElement("span",null,"Change Avatar")},{key:"signout",text:r.a.createElement("span",{onClick:function(){O.auth().signOut(),W(a.uid),t({type:"RESET_APP"})}},"Sign Out")}];return r.a.createElement(M.a,null,r.a.createElement(F.a,null,r.a.createElement(G.a,{style:{padding:"1.2em",margin:0}},r.a.createElement(A.a,{inverted:!0,floated:"left",as:"h2"},r.a.createElement(N.a,{name:"code"}),r.a.createElement(V.a,null,"Plack")),r.a.createElement(A.a,{style:{padding:"0.25em"},as:"h4",inverted:!0},r.a.createElement(H.a,{trigger:r.a.createElement("span",null,r.a.createElement(J.a,{src:a.photoURL,spaced:"right",avatar:!0}),a.displayName),options:n})))))},K=t(470),Y=t(463),Z=function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:"SET_CHANNEL",channel:e,isPrivate:a}},Q=function(e){function a(){var e,t;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(t=Object(E.a)(this,(e=Object(v.a)(a)).call.apply(e,[this].concat(l)))).state={modal:!1,channelName:"",channelDetails:"",channels:[],channelsRef:O.database().ref("channels"),firstLoad:!0,activeChannel:null},t.addListeners=function(){var e=[];t.state.channelsRef.on("child_added",(function(a){e.push(a.val()),t.setState({channels:e},(function(){return t.setFirstChannel()}))}))},t.setFirstChannel=function(){t.state.firstLoad&&(t.props.setChannel(t.state.channels[0]),t.setState({firstLoad:!1,activeChannel:t.state.channels[0].id}))},t.closeModal=function(){return t.setState({modal:!1})},t.openModal=function(){return t.setState({modal:!0})},t.handleChange=function(e){t.setState(Object(k.a)({},e.target.name,e.target.value))},t.handleSubmit=function(e){e.preventDefault(),t.isFormValid(t.state)&&t.addChannel()},t.addChannel=function(){var e=t.state.channelsRef.push().key,a=t.props.userData,n=t.state,r={id:e,name:n.channelName,details:n.channelDetails,createdBy:{name:a.displayName,avatar:a.photoURL}};t.state.channelsRef.child(e).update(r).then((function(){t.setState({channelName:"",channelDetails:""}),t.closeModal()})).catch((function(e){console.log(e)}))},t.isFormValid=function(e){var a=e.channelName,t=e.channelDetails;return a&&t},t.changeChannel=function(e){t.props.setChannel(e),t.setState({activeChannel:e.id})},t.displayChannels=function(e){return e.map((function(e){return r.a.createElement(_.a.Item,{key:e.id,onClick:function(){return t.changeChannel(e)},name:e.name,active:t.state.activeChannel===e.id},"#",e.name)}))},t}return Object(b.a)(a,e),Object(g.a)(a,[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.state.channelsRef.off()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a.Menu,{style:{paddingBottom:"2em"}},r.a.createElement(_.a.Item,null,r.a.createElement("span",null,r.a.createElement(N.a,{name:"exchange"})," CHANNELS"),"(",this.state.channels.length,")"," ",r.a.createElement(N.a,{name:"add",onClick:this.openModal})),this.displayChannels(this.state.channels)),r.a.createElement(K.a,{basic:!0,open:this.state.modal,onClose:this.closeModal},r.a.createElement(K.a.Header,null,"Add a Channel"),r.a.createElement(K.a.Content,null,r.a.createElement(L.a.Field,{onSubmit:this.handleSubmit},r.a.createElement(L.a.Field,null,r.a.createElement(Y.a,{fluid:!0,label:"Name of channel",name:"channelName",onChange:this.handleChange})),r.a.createElement(L.a.Field,null,r.a.createElement(Y.a,{fluid:!0,label:"About the Channel",name:"channelDetails",onChange:this.handleChange})))),r.a.createElement(K.a.Actions,null,r.a.createElement(U.a,{color:"green",inverted:!0,onClick:this.handleSubmit},r.a.createElement(N.a,{name:"checkmark"})," Add"),r.a.createElement(U.a,{color:"red",inverted:!0,onClick:this.closeModal},r.a.createElement(N.a,{name:"remove"})," Cancel"))))}}]),a}(r.a.Component),X=Object(o.b)(null,{setChannel:Z})(Q),$=function(e){function a(){var e,t;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(t=Object(E.a)(this,(e=Object(v.a)(a)).call.apply(e,[this].concat(l)))).state={userRef:O.database().ref("users"),channelsRef:O.database().ref("privateMessages"),users:[],presenceRef:O.database().ref("presence"),activeChannel:null},t.removeListeners=function(){t.state.userRef.off(),t.state.presenceRef.off()},t.addEventListeners=function(){t.setUsers(t.props.userData.uid)},t.setUsers=function(e){var a=[];t.state.userRef.on("child_added",(function(n){if(e!==n.key){var r=n.val();r.uid=n.key,r.status="offline",a.push(r),t.setState({users:a})}})),t.state.presenceRef.on("child_added",(function(a){e!==a.key&&t.addStatusToUser(a.key)})),t.state.presenceRef.on("child_removed",(function(a){e!==a.key&&t.addStatusToUser(a.key,!1)}))},t.addStatusToUser=function(e){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.state.users.reduce((function(t,n){return n.uid===e&&(n.status="".concat(a?"online":"offline")),t.concat(n)}),[]);t.setState({users:n})},t.setChannel=function(e){t.setState({activeChannel:e.uid});var a=t.setChannelId(t.props.userData.uid,e.uid),n={id:a,name:e.name};t.createChannel(a,n),t.props.setChannel(n,!0)},t.createChannel=function(e,a){t.state.channelsRef.child(e).update(a).catch((function(e){return console.log(e)}))},t.setChannelId=function(e,a){return e>a?"".concat(e,"/").concat(a):"".concat(a,"/").concat(e)},t.displayUsers=function(e){return e.map((function(e){return r.a.createElement(_.a.Item,{key:e.uid,onClick:function(){return t.setChannel(e)},active:t.state.activeChannel===e.uid},r.a.createElement("span",null,r.a.createElement(J.a,{src:e.avatar,avatar:!0}),e.name),r.a.createElement(N.a,{name:"rss",color:"offline"===e.status?"red":"green"}))}))},t}return Object(b.a)(a,e),Object(g.a)(a,[{key:"componentDidMount",value:function(){this.props.userData&&this.addEventListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"render",value:function(){return r.a.createElement(_.a.Menu,null,r.a.createElement(_.a.Item,null,r.a.createElement("span",null,r.a.createElement(N.a,{name:"lock"})," PRIVATE MESSAGES")),this.displayUsers(this.state.users))}}]),a}(r.a.Component),ee=Object(o.b)(null,{setChannel:Z})($),ae=function(e){var a=e.userData;return r.a.createElement(_.a,{style:{backgroundColor:"#40123e"},fixed:"left",vertical:!0,inverted:!0,size:"large"},r.a.createElement(q,{userData:a}),r.a.createElement(X,{userData:a}),r.a.createElement(ee,{userData:a}))},te=t(471),ne=function(e){var a=e.channelName,t=e.userAmount,n=e.handleChange;return r.a.createElement(T.a,{clearing:!0},r.a.createElement(A.a,{fluid:"true",as:"h2",floated:"left"},r.a.createElement("span",null,a,r.a.createElement(N.a,{name:"star outline",color:"black"})),r.a.createElement(A.a.Subheader,null,t)),r.a.createElement(A.a,{floated:"right"},r.a.createElement(Y.a,{size:"mini",type:"text",icon:"search",name:"searchTerm",placeholder:"Search Messages",onChange:n})))},re=t(475),le=t(167),se=t.n(le),ce=function(e){var a=e.modal,t=e.closeModal,l=e.uploadFile,s=Object(n.useState)({file:null,authorized:["image/jpeg","image/png"]}),c=Object(S.a)(s,2),o=c[0],u=c[1],d=function(){u(Object(i.a)({},o,{file:null}))},m=function(e){return o.authorized.includes(se.a.lookup(e))};return r.a.createElement(K.a,{basic:!0,open:a,onClose:t},r.a.createElement(K.a.Header,null,"Select an image file"),r.a.createElement(K.a.Content,null,r.a.createElement(Y.a,{onChange:function(e){var a=e.target.files[0];a&&u(Object(i.a)({},o,{file:a}))},fluid:!0,label:"File types: JPEG, PNG",name:"file",type:"file"})),r.a.createElement(K.a.Actions,null,r.a.createElement(U.a,{color:"green",onClick:function(){if(null!==o.file&&m(o.file.name)){var e={contentType:se.a.lookup(o.file.name)};l(o.file,e),d(),t()}},inverted:!0},r.a.createElement(N.a,{name:"checkmark"})," Send"),r.a.createElement(U.a,{color:"red",inverted:!0,onClick:function(){t(),d()}},r.a.createElement(N.a,{name:"remove"})," Cancel")))},oe=t(467),ie=function(e){var a=e.uploadState,t=e.percents;return"uploading"===a&&r.a.createElement(oe.a,{className:"progress_bar",percent:t,progress:!0,indicating:!0,size:"medium",inverted:!0})},ue=function(e){function a(){var e;return Object(p.a)(this,a),(e=Object(E.a)(this,Object(v.a)(a).call(this))).handleChange=function(a){e.setState(Object(k.a)({},a.target.name,a.target.value))},e.createMessage=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t={timestamp:O.database.ServerValue.TIMESTAMP,user:{id:e.props.user.uid,name:e.props.user.displayName,avatar:e.props.user.photoURL}};return null!==a?t.image=a:t.content=e.state.message,t},e.uploadFile=function(a,t){var n="chat/public/".concat(Object(re.a)(),".jpg"),r=e.props.channel.id,l=e.props.messageRef;e.setState({uploadState:"uploading",uploadTask:e.state.storageRef.child(n).put(a,t)},(function(){e.state.uploadTask.on("state_changed",(function(a){var t=Math.round(a.bytesTransferred/a.totalBytes*100);e.setState({percentUploaded:t})}),(function(a){console.log(a),e.setState({uploadState:"error",uploadTask:null})}),(function(){e.state.uploadTask.snapshot.ref.getDownloadURL().then((function(a){e.sendFileMessage(a,l,r)})).catch((function(a){console.log(a),e.setState({uploadState:"error",uploadTask:null})}))}))}))},e.sendFileMessage=function(a,t,n){t.child(n).push().set(e.createMessage(a)).then((function(){e.setState({uploadState:"done"})})).catch((function(a){console.log(a),e.setState({error:a.message})}))},e.sendMessage=function(){var a=e.props,t=a.messageRef,n=a.channel,r=e.props.isPrivate?"".concat(n.id,"/messages"):n.id;e.state.message.length>0?(e.setState({loading:!0,error:""}),t.child(r).push().set(e.createMessage()).then((function(){e.setState({loading:!1,message:""})})).catch((function(a){console.log(a),e.setState({loading:!1,message:"",error:a.message})}))):e.setState({error:"No data filled"})},e.openModal=function(){return e.setState({modal:!0})},e.closeModal=function(){return e.setState({modal:!1})},e.state={message:"",loading:!1,error:"",modal:!1,uploadTask:null,uploadState:"",percentUploaded:0,storageRef:O.storage().ref()},e}return Object(b.a)(a,e),Object(g.a)(a,[{key:"render",value:function(){var e=this,a=this.state,t=a.message,n=a.error,l=a.loading,s=a.modal,c=a.uploadState,o=a.percentUploaded;return r.a.createElement(T.a,{className:"messageForm"},r.a.createElement(Y.a,{value:t,fluid:!0,name:"message",label:r.a.createElement(U.a,{icon:"add"}),labelPosition:"left",className:n.length>0?"error":null,placeholder:"Write your message",onChange:this.handleChange,onKeyDown:function(a){return 13===a.keyCode?e.sendMessage():null}}),r.a.createElement(U.a.Group,{icon:!0,widths:"2",style:{marginTop:"10px"}},r.a.createElement(U.a,{color:"green",content:"Add Reply",labelPosition:"left",icon:"edit",onClick:this.sendMessage,disabled:l,className:l?"loading":null}),r.a.createElement(U.a,{color:"red",content:"Upload Media",disabled:"uploading"===c,labelPosition:"right",icon:"cloud upload",onClick:this.openModal})),r.a.createElement(ce,{modal:s,closeModal:this.closeModal,uploadFile:this.uploadFile}),r.a.createElement(ie,{uploadState:c,percents:o}))}}]),a}(r.a.Component),de=t(261),me=t.n(de),he=function(e,a){return e.user.id===a.uid?"message_self":null},fe=function(e){var a,t=e.message,n=e.user;return r.a.createElement(te.a,null,r.a.createElement(te.a.Avatar,{src:t.user.avatar}),r.a.createElement(te.a.Content,{className:he(t,n)},r.a.createElement(te.a.Author,{as:"a"},t.user.name),r.a.createElement(te.a.Metadata,null,(a=t.timestamp,me()(a).fromNow())),function(e){return e.hasOwnProperty("image")&&!e.hasOwnProperty("content")}(t)?r.a.createElement(J.a,{src:t.image,className:"message_image"}):r.a.createElement(te.a.Text,null,t.content)))},pe=function(e){var a=e.channel,t=e.user,l=e.isPrivate,s=Object(n.useState)({messages:[],messageLoading:null,messageRef:O.database().ref("messages"),privateMessageRef:O.database().ref("privateMessages"),listeners:[],searchTerm:""}),c=Object(S.a)(s,2),o=c[0],u=c[1],d=Object(n.useRef)(null);Object(n.useEffect)((function(){return a&&t&&(m(o.listeners),u((function(e){return Object(i.a)({},e,{messageLoading:!0})})),h(a.id)),function(){o.messageRef.off()}}),[a,t]),Object(n.useEffect)((function(){d.current.scrollIntoView({behavior:"smooth"})}));var m=function(e){e.forEach((function(e){e.ref.child(e.id).off(e.event)}))},h=function(e){f(e)},f=function(e){var a=l?"".concat(e,"/messages"):e,t=l?o.privateMessageRef:o.messageRef,n=[];u((function(e){return Object(i.a)({},e,{messages:[]})})),t.child(a).on("child_added",(function(e){n.push(e.val()),u((function(e){return Object(i.a)({},e,{messages:n,messageLoading:!1})}))})),function(e,a,t){if(-1===o.listeners.findIndex((function(n){return n.id===e&&n.ref===a&&n.event===t}))){var n={id:e,ref:a,event:t};u((function(e){return Object(i.a)({},e,{listeners:o.listeners.concat(n)})}))}}(a,t,"child_added")};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ne,{handleChange:function(e){u(Object(i.a)({},o,Object(k.a)({},e.target.name,e.target.value)))},channelName:function(e){return e?e.name:""}(a),userAmount:function(e){var a=e.reduce((function(e,a){return e.includes(a.user.name)||e.push(a.user.name),e}),[]);return 1===a.length?"".concat(a.length," user"):"".concat(a.length," users")}(o.messages)}),r.a.createElement(T.a,{className:"messages",loading:o.messageLoading},r.a.createElement(te.a.Group,null,function(e){if(e.length>0)return e.filter((function(e){return 0===o.searchTerm.length||void 0!==e.content&&e.content.includes(o.searchTerm)?e:null})).map((function(e){return r.a.createElement(fe,{key:e.timestamp,message:e,user:t})}))}(o.messages),r.a.createElement("div",{ref:d}))),r.a.createElement(ue,{messageRef:l?o.privateMessageRef:o.messageRef,isPrivate:l,channel:a,user:t}))},ge=function(){return r.a.createElement("div",null,"MetaPanel")},Ee=function(){var e=Object(o.d)((function(e){return null!==e.user.user?{user:e.user.user,channel:e.channel.channel,isPrivate:e.channel.isPrivate}:{user:""}}));return r.a.createElement(M.a,{columns:"equal"},r.a.createElement(B,null),r.a.createElement(ae,{userData:e.user}),r.a.createElement(F.a,{style:{marginLeft:"320px"}},r.a.createElement(pe,{channel:e.channel,user:e.user,isPrivate:e.isPrivate})),r.a.createElement(F.a,{width:4},r.a.createElement(ge,null)))},ve=t(476),be=t(468),Ce=function(){return r.a.createElement(ve.a,{active:!0},r.a.createElement(be.a,{size:"huge",content:"Loading"}))},ye=function(e){function a(){return Object(p.a)(this,a),Object(E.a)(this,Object(v.a)(a).apply(this,arguments))}return Object(b.a)(a,e),Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=this;O.auth().onAuthStateChanged((function(a){null!==a?(e.props.setUser(a),W(a.uid,"add"),window.addEventListener("beforeunload",(function(){W(a.uid)})),e.props.history.push("/plackApp")):(e.props.setUser(null),e.props.history.push("/login"))}))}},{key:"render",value:function(){return this.props.isLoading?r.a.createElement(Ce,null):r.a.createElement("div",{className:"App"},r.a.createElement(C.c,null,r.a.createElement(C.a,{exact:!0,path:"/plackApp",component:Ee}),r.a.createElement(C.a,{path:"/login",component:I}),r.a.createElement(C.a,{path:"/register",component:D})))}}]),a}(r.a.Component),je=Object(C.f)(Object(o.b)((function(e){return{isLoading:e.user.isLoading}}),{setUser:function(e){return{type:"SET_USER",user:e}}})(ye)),Oe=(t(449),t(450),Object(c.d)((function(e,a){return"RESET_APP"===a.type&&(e=void 0),m(e,a)}),Object(c.a)(h.a)));s.a.render(r.a.createElement(f.a,null,r.a.createElement(o.a,{store:Oe},r.a.createElement(je,null))),document.getElementById("root"))}},[[274,1,2]]]);
//# sourceMappingURL=main.238e2d93.chunk.js.map